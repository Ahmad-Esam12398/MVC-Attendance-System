@model Attendance_Management_System.Models.User

@{
    ViewData["Title"] = "User Profile";
}
@section Styles{
    <link href="~/lib/toastr.js/toastr.min.css" rel="stylesheet" />
}
<h2>User Profile</h2>
<div>
    <div class="d-flex justify-content-between">
        <div class="col-7 mt-5">
            <dl class="row">
                <dt class="col-sm-2">National ID:</dt>
                <dd class="col-sm-10">@Model.NationalId</dd>

                <dt class="col-sm-2">User Name:</dt>
                <dd class="col-sm-10">@Model.UserName</dd>

                <dt class="col-sm-2">Email:</dt>
                <dd class="col-sm-10">@Model.Email</dd>

                <dt class="col-sm-2">PhoneNumber:</dt>
                <dd class="col-sm-10">@Model.PhoneNumber</dd>

                <dt class="col-sm-2">Gender:</dt>
                <dd class="col-sm-10">@Model.Gender</dd>
            </dl>
        </div>
        <div class="col-3">
            <img src="/images/male.jpg" class="rounded-circle img-fluid" style="height: 205px;" id="ProfPicture"/>
        </div>
    </div>
    <div class="d-flex justify-content-between">
        <div class="mt-4 d-flex">
            <div class="text-center me-4">
                <a href="@Url.Action("Edit", "Account")" class="btn btn-primary">Edit Information</a>
            </div>
            <div class="text-center">
                <a href="@Url.Action("ResetPassword", "Account", new { id = Model.Id })" class="btn btn-primary">Reset Password</a>
            </div>
        </div>
        <div class="me-2">
            <label for="formFile" class="form-label">Profile Picture</label>
            <input class="form-control" type="file" id="formFile">
        </div>
    </div>
    <div class="d-flex justify-content-end">
        <a class="btn btn-primary mt-1" style="margin-right: 298px;" id="Savepicture">Save</a>
    </div>
</div>

@section scripts{
    <script src="~/lib/toastr.js/toastr.min.js"></script>
    <script>
        $("#formFile").on('change', function(){
            $("#ProfPicture").attr('src', URL.createObjectURL(this.files[0]));
        });
        $("#Savepicture").on('click', function () {
            let files = $("#formFile")[0].files;
            if (files.length == 0) {
                toastr.options = {
                    "closeButton": false,
                    "debug": false,
                    "newestOnTop": false,
                    "progressBar": false,
                    "positionClass": "toast-top-center",
                    "preventDuplicates": false,
                    "onclick": null,
                    "showDuration": "300",
                    "hideDuration": "1000",
                    "timeOut": "5000",
                    "extendedTimeOut": "1000",
                    "showEasing": "swing",
                    "hideEasing": "linear",
                    "showMethod": "fadeIn",
                    "hideMethod": "fadeOut"
                }
            }

            Command: toastr["error"]("Must choose File First!", "Error")
        });
    </script>
}
