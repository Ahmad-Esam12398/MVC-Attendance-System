@model IEnumerable<PermissionDto>

@{
    ViewData["Title"] = "Permissions";
    Layout = "_Layout";
}

<div class="container">
    <div class="d-flex justify-content-center mb-3">
        @* <div class="date-filter">
            <span>
                <i class='bx bx-calendar'></i>
                <span>Filter By Date</span>
            </span>
            <input type="date" id="Date" placeholder="Search by Date" />
            <button class="btn 
            " type="button" title="ResetDate" id="ClearDate">
                <i class='bx bx-x'></i> Reset Date
            </button>
            
        </div> *@
    </div>
    <table id="myTable" class="display">
        <thead>
            <tr>
                <th>Date</th>
                <th>ID</th>
                <th>Student</th>
                <th>Excuse Message</th>
                <th>Status</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td>@item.Date</td>
                    <td>@Html.DisplayFor(modelItem => item.studentId)</td>
                    <td>@Html.DisplayFor(modelItem => item.StudentName)</td>
                    <td>@Html.DisplayFor(modelItem => item.Message)</td>
                    <td class="status-cell">@Html.DisplayFor(modelItem => item.Status)</td>
                    <td>
                        <button class="btn btn-lg accept" type="button" title="Accept Permission" action="/Instructor/Accept" id="@item.Id" >
                            <i class='bx bx-check text-success'></i>
                        </button>
                        <button class="btn btn-lg reject" type="button" title="Refuse Permission" action="/Instructor/Reject" id="@item.Id">
                            <i class="bx bx-x text-danger"></i>
                        </button>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>

@section NavList
{
    <div class="nav_list">
        <a href="/instructor/permissions" class="nav_link">
            <i class="bx bx-message-square-detail nav_icon"></i>
            <span class="nav_name">Student Permissions</span>
        </a>
        <a href="/instructor/schedule" class="nav_link">
            <i class="bx bx-table nav_icon"></i>
            <span class="nav_name">Schedule</span>
        </a>
    </div>
}
@section Scripts
{
    <script src="https://cdn.datatables.net/2.0.3/js/dataTables.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-toast-plugin/1.3.2/jquery.toast.min.js" integrity="sha512-zlWWyZq71UMApAjih4WkaRpikgY9Bz1oXIW5G0fED4vk14JjGlQ1UmkGM392jEULP8jbNMiwLWdM8Z87Hu88Fw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="~/js/index.js" ></script>


}
@section Styles
{
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-toast-plugin/1.3.2/jquery.toast.min.css" integrity="sha512-wJgJNTBBkLit7ymC6vvzM1EcSWeM9mmOu+1USHaRBbHkm6W9EgM0HY27+UtUaprntaYQJF75rc8gjxllKs5OIQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdn.datatables.net/2.0.3/css/dataTables.dataTables.css" />
}
